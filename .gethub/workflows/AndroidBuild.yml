name: AndroidBuildCICD
on:
   pull_request :
      branches: [ master ]
   push :
      branches: [ master ]

job:
  build:
     runs-on: windows-latest
     steps:
       - name: Checkout
         uses: actions/checkout@v4.1.0

       - name: Setup Java JDK
         uses: actions/setup-java@v3.13.0

       - name: Build with Gradle
         run: ./gradlew build
         with:
           java-version: '17'
           distribution: 'adopt'

       - name: Upload a Build Artifact
         uses: actions/upload-artifact@v3.1.3
         with:
           name: JetpackApp.apk
           path: app/build/outputs/apk/debug/app-debug.apk
